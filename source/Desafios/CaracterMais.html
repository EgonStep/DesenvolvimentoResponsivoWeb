<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <script>
        /**
        * Caractere mais recorrente
        * 
        * Retornar o caractere mais recorrente
        * 
        * @param str a string a ser verificada
        * 
        * @example
        * 
        * maxCharacter("testar");
        * 
        * // t: 2
        * 
        */
        // variavel let depois de utilizada será descartada, por exemplo dentro do FOR o let i = 0 
        // será descartada fora do loop

        function maxCharacter(str) {
            var guardaValor = {}; // Inicialmente um objeto vazio
            for (var i = 0; i < str.length; i++) {
                /*"testar".length é igual a "testar"["length"] duas formas validas de
                acessar propriedades de um objeto */
                if (!guardaValor[str[i]]) {
                    guardaValor[str[i]] = 1;
                    /*Quando o objeto guardaValor não possui um valor para seu atributo, exemplo, t = 0
                    atribuimos o valor de 1, ou seja, t = 1.
                    */
                } else {
                    guardaValor[str[i]]++;
                    //Caso o objeto com o atributo já possua valor, somamos + 1 a esse atributo.
                }

                var charRecorrente = "", numeroVezes = 0;

                for (var key in guardaValor) {
                    /* for...in interage sobre propriedades enumeradas de um objeto, na ordem original de 
                    inserção */

                    guardaValor[key];
                    if (guardaValor[key] > numeroVezes) {
                        charRecorrente = key;
                        numeroVezes = guardaValor[key];
                        /* percorremos o if caso o valor da key seja maior que zero, com isso
                        assumira o maior valor no guardaValor[key] e so será substituido se outra key for
                        maior que a atual. 
                        */
                    }
                }

            }
            console.log(charRecorrente + ": " + numeroVezes);
        }

    </script>


</body>

</html>
